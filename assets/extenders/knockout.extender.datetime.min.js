ko.extenders.hours=[{key:0,value:"00"},{key:1,value:"01"},{key:2,value:"02"},{key:3,value:"03"},{key:4,value:"04"},{key:5,value:"05"},{key:6,value:"06"},{key:7,value:"07"},{key:8,value:"08"},{key:9,value:"09"},{key:10,value:"10"},{key:11,value:"11"},{key:12,value:"12"},{key:13,value:"13"},{key:14,value:"14"},{key:15,value:"15"},{key:16,value:"16"},{key:17,value:"17"},{key:18,value:"18"},{key:19,value:"19"},{key:20,value:"20"},{key:21,value:"21"},{key:22,value:"22"},{key:23,value:"23"}],ko.extenders.minutes=[{key:0,value:"00"},{key:15,value:"15"},{key:30,value:"30"},{key:45,value:"45"}],ko.extenders.date_db="YYYY-MM-DD",ko.extenders.datetime=function(e,t){function u(e){var n=null;if(e&&null!=e&&""!=e){var u=1==t.utc?moment.utc(e,l).local():moment(e,l);u.locale(t.language),t.round&&u&&u.isValid()&&(u.minute(u.minute()-u.minute()%t.timespan),u.second(0)),n=u}return n}t=$.extend({utc:!1,date:!0,datetime:!1,year:!1,month:!1,day:!1,hour:!1,minute:!1,time:!1,round:!0,format:x1.config.date,timespan:15,language:x1.config.language,"null":!0},t),t.minutes=[];for(var m=0;60>m;m+=t.timespan)t.minutes.push({key:m,value:m.toString().lpad("0",2)});if(e.minutes=t.minutes||ko.extenders.minutes,e.hours=t.hours||ko.extenders.hours,1==t.time){e.times=[];for(var o=0;o<e.hours.length;o++)for(var a=0;a<e.minutes.length;a++)e.times.push(e.hours[o].value+":"+e.minutes[a].value)}var l=ko.extenders.date_db+(t.time||t.hour||t.minute?" HH:mm:ss":"");return e.moment=ko.observable(u(e())),e.moment.subscribe(function(n){e(null==n?n:e.moment().format(l))}),e.subscribe(function(n){e.moment(u(n))}),e.date=ko.computed({owner:e,read:function(){var n=e.moment();return null!=n?n.format(t.format):""},write:function(u){if(u&&null!=u&&""!=u){var m=parseInt(u);if(m==u)var o=moment().add(u,"days");else var o=moment(u,t.format);t.round&&o&&o.isValid()&&(o.minute(o.minute()-o.minute()%t.timespan),o.second(0)),n=e.moment(),null!=n?(n.year(o.year()),n.month(o.month()),n.date(o.date())):n=o,e(n.format(l))}else e(null)}}),(t.time||t.datetime)&&(e.time=ko.computed({owner:e,read:function(){var n=e.moment();return null!=n?n.hour()+":"+n.minute():""},write:function(n){if(void 0!=n&&null!==n&&""!==n){var u=e.moment();null==u&&(u=moment(),u.seconds(0));var m=n.split(":");u.hour(m[0]),u.minute(m[1]),t.round&&u.minute(u.minute()-u.minute()%t.timespan),e(u.format(l))}else e(null)}})),(t.time||t.hour||t.datetime)&&(e.hour=ko.computed({owner:e,read:function(){var n=e.moment();return null!=n?n.hours():""},write:function(n){if(void 0!=n&&null!==n&&""!==n){var t=e.moment();null==t&&(t=moment(),t.minutes(0),t.seconds(0)),t.hours(n),e(t.format(l))}else e(null);e.time&&e.time.valueHasMutated()}})),(t.time||t.minute||t.datetime)&&(e.minute=ko.computed({owner:e,read:function(){var n=e.moment();return null!=n?n.minute():""},write:function(n){if(void 0!=n&&null!==n&&""!==n){var u=e.moment();null==u&&(u=moment(),u.seconds(0)),u.minutes(n),t.round&&u.minute(u.minute()-u.minute()%t.timespan),e(u.format(l))}else e(null);e.time&&e.time.valueHasMutated()}})),e.year=ko.computed({owner:e,read:function(){var n=e.moment();return null!=n?n.year():""},write:function(n){if(void 0!=n&&null!==n&&""!==n){var t=e.moment();null==t&&(t=moment(),t.seconds(0)),t.year(n),e(t.format(l))}else e(null)}}),e.month=ko.computed({owner:e,read:function(){var n=e.moment();return null!=n?n.month()+1:""},write:function(n){if(void 0!=n&&null!==n&&""!==n){var t=e.moment();null==t&&(t=moment(),t.seconds(0)),t.month(n-1),e(t.format(l))}else e(null)}}),e.current=function(){e(u(moment().format(l)).format(l))},e.clear=function(){e(null)},e.display=e.date,e};