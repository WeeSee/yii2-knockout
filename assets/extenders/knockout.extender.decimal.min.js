function number_format(e,a,r,t){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var n=isFinite(+e)?+e:0,i=isFinite(+a)?Math.abs(a):0,o="undefined"==typeof t?",":t,l="undefined"==typeof r?".":r,c="",d=function(e,a){var r=Math.pow(10,a);return""+(Math.round(e*r)/r).toFixed(a)};return c=(i?d(n,i):""+Math.round(n)).split("."),c[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(c[1]||"").length<i&&(c[1]=c[1]||"",c[1]+=new Array(i-c[1].length+1).join("0")),c.join(l)}ko.extenders.decimal=function(e,a){return a=$.extend({decimals:x1.config.decimals,decimalSeparator:x1.config.decimalSeparator,thousandsSeparator:x1.config.thousandsSeparator,nullable:!0,percent:!1},a),e.decimal=ko.computed({owner:this,read:function(){var r=e();return $.isNumeric(r)?a.percent?number_format(100*r,a.decimals,a.decimalSeparator,a.thousandsSeparator):number_format(r,a.decimals,a.decimalSeparator,a.thousandsSeparator):a.nullable?"":number_format(0,a.decimals,a.decimalSeparator,a.thousandsSeparator)},write:function(r){r=r.replace(a.thousandsSeparator,""),r=r.replace(a.decimalSeparator,".");var t,n=parseFloat(r);$.isNumeric(n)?(n=a.percent?n/100:n,t=n.toFixed(a.decimals+(a.percent?2:0))):t=a.nullable?"":0,e()!==t?e(t):e.display.notifySubscribers(t)}}),e.clear=function(){e(a.nullable?null:0)},e.display=e.decimal,e};