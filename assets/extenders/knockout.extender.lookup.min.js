ko.extenders.lookup=function(e,c){return c=$.extend({url:"",depends:{},cache:!0,method:"get"},c),e.query=ko.computed(function(){var e={};return $.each(c.depends,function(c,o){var n=ko.unwrap(o);void 0!=n&&(e[c]=n)}),e},e),c.cache&&(e.cache={},(e()||[]).length>0&&(e.cache[ko.toJSON(e.query())]=e())),e.lookup=function(o){o=o||{};var n=ko.toJSON(o);if(c.cache&&e.cache[n])e(e.cache[n]);else{var t="get"==c.method?$.get:$.post;t(c.url,o,function(o){c.cache&&(e.cache[n]=o),e(o)},"json")}},e.query.subscribe(function(c){e.lookup(c)}),e};